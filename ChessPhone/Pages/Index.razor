@page "/"
@using ChessPhone.Core.Models
@using Board = ChessPhone.Components.Board
@using ChessPhone.Core.Repositories
@inject IBoardRepository BoardRepository

<MudContainer>
            <ChessPieces OnChangePiece="@(SetPiece)" />
    @if (_chessPiece != null && _board != null)
    {
        <Board ChessPiece="_chessPiece" CurrentBoard="_board" />
    }
</MudContainer>
@code
{
    private ChessPiece? _chessPiece;
    private Core.Models.Board? _board;
    private bool _expandChessSelection;

    protected override void OnInitialized()
    {
        _board = BoardRepository.GetBoard();
    }

    private void SetPiece(ChessPiece piece)
    {
        _expandChessSelection = false;
        _chessPiece = piece;
    }

}
