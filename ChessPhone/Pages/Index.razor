@page "/"
@using ChessPhone.Core.Models
@using Board = ChessPhone.Components.Board
@using ChessPhone.Core.Repositories
@inject IBoardRepository BoardRepository

<MudContainer >
    <MudPaper Class="m-4 p-3" Elevation="5">
        <ChessPieces OnChangePiece="@(SetPiece)" />
    </MudPaper>
    @if (_chessPiece != null && _board != null)
    {
        <Board ChessPiece="_chessPiece" CurrentBoard="_board" />
    }
</MudContainer>
@code
{
    private ChessPiece? _chessPiece;
    private Core.Models.Board? _board;

    protected override void OnInitialized()
    {
        _board = BoardRepository.GetBoard();
    }

    private void SetPiece(ChessPiece piece)
    {
        _chessPiece = piece;
    }
}
